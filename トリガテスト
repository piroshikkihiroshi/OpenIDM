-- Function: bbbbbbbbbbbbbbbbb(text[], text[])-- DROP FUNCTION bbbbbbbbbbbbbbbbb(text[], text[]);CREATE OR REPLACE FUNCTION bbbbbbbbbbbbbbbbb(arr_group_old_i text[], arr_group_new_i text[])  RETURNS integer AS$BODY$declare cur  refcursor; ret  integer; tmpText text; l_returnValue  integer;begin  foreach tmpText in ARRAY arr_group_old_i   loop    -- cnの存在確認  EXECUTE 'SELECT count("cn") FROM "aaaaaaaaaaaaaaaaaaaaa" WHERE "cn" = ''' || tmpText || ''' '      INTO l_returnValue;        if (l_returnValue = 0) then   execute 'INSERT INTO "aaaaaaaaaaaaaaaaaaaaa" VALUES(''' ||   tmpText ||    ''')';     end if;   end loop;     ret := 1; return ret;     end;    $BODY$  LANGUAGE plpgsql VOLATILE  COST 100;ALTER FUNCTION bbbbbbbbbbbbbbbbb(text[], text[]) OWNER TO "admin";
